<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=, initial-scale=1.0">
  <link rel="stylesheet" href="reset.css">
  <link rel="stylesheet" href="konamiCode.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <title>Document</title>
</head>
<body>

  <h1 id="title">KONAMI CODE</h1>
  <span class="instruction">請依照下列順序輸入</span>
  <div class="Konami_code">
    <i class="fa fa-arrow-up fa-2x"></i>
    <i class="fa fa-arrow-up fa-2x"></i>
    <i class="fa fa-arrow-down fa-2x"></i>
    <i class="fa fa-arrow-down fa-2x"></i>
    <i class="fa fa-arrow-left fa-2x"></i>
    <i class="fa fa-arrow-right fa-2x"></i>
    <i class="fa fa-arrow-left fa-2x"></i>
    <i class="fa fa-arrow-right fa-2x"></i>
    <span class="hint">B</span>
    <span class="hint">A</span>
    <span class="hint">Ent</span>
  </div>

<div class="keyboard">
  <div class="keyboard_row keyboard_row_h1">
    <div class="key key_fn">
      <span>esc</span>
    </div>
    <div class="key key_fn">
      <span>F1</span>
    </div>
    <div class="key key_fn">
      <span>F2</span>
    </div>
    <div class="key key_fn">
      <span>F3</span>
    </div>
    <div class="key key_fn">
      <span>F4</span>
    </div>
    <div class="key key_fn">
      <span>F5</span>
    </div>
    <div class="key key_fn">
      <span>F6</span>
    </div>
    <div class="key key_fn">
      <span>F7</span>
    </div>
    <div class="key key_fn">
      <span>F8</span>
    </div>
    <div class="key key_fn">
      <span>F9</span>
    </div>
    <div class="key key_fn">
      <span>F10</span>
    </div>
    <div class="key key_fn">
      <span>F11</span>
    </div>
    <div class="key key_fn">
      <span>F12</span>
    </div>
    <div class="key key_fn">
      <span>pwr</span>
    </div>
  </div>
  <div class="keyboard_row">
    <div class="key key_signs" data-key="192">
      <div>~</div>
      <div>`</div>
    </div>
    <div class="key key_signs" data-key="49">
      <div>!</div>
      <div>1</div>
    </div>
    <div class="key key_signs" data-key="50">
      <div>@</div>
      <div>2</div>
    </div>
    <div class="key key_signs" data-key="51">
      <div>#</div>
      <div>3</div>
    </div>
    <div class="key key_signs" data-key="52">
      <div>$</div>
      <div>4</div>
    </div>
    <div class="key key_signs" data-key="53">
      <div>%</div>
      <div>5</div>
    </div>
    <div class="key key_signs" data-key="54">
      <div>^</div>
      <div>6</div>
    </div>
    <div class="key key_signs" data-key="55">
      <div>&</div>
      <div>7</div>
    </div>
    <div class="key key_signs" data-key="56">
      <div>*</div>
      <div>8</div>
    </div>
    <div class="key key_signs" data-key="57">
      <div>(</div>
      <div>9</div>
    </div>
    <div class="key key_signs" data-key="48">
      <div>)</div>
      <div>0</div>
    </div>
    <div class="key key_signs" data-key="189">
      <div>_</div>
      <div>-</div>
    </div>
    <div class="key key_signs" data-key="187">
      <div>+</div>
      <div>=</div>
    </div>
    <div class="key key_others key_w1 key_right" data-key="8">
      <span>delete</span>
    </div>
  </div>
  <div class="keyboard_row">
    <div class="key key_others key_w1 key_left" data-key="9">
      <span>tab</span>
    </div>
    <div class="key key_letters" data-key="81">Q</div>
    <div class="key key_letters" data-key="87">W</div>
    <div class="key key_letters" data-key="69">E</div>
    <div class="key key_letters" data-key="82">R</div>
    <div class="key key_letters" data-key="84">T</div>
    <div class="key key_letters" data-key="89">Y</div>
    <div class="key key_letters" data-key="85">U</div>
    <div class="key key_letters" data-key="73">I</div>
    <div class="key key_letters" data-key="79">O</div>
    <div class="key key_letters" data-key="80">P</div>
    <div class="key key_signs" data-key="219" data-char="{[">
      <div>{</div>
      <div>[</div>
    </div>
    <div class="key key_signs" data-key="221" data-char="}]">
      <div>}</div>
      <div>]</div>
    </div>
    <div class="key key_signs" data-key="220" data-char="|\">
      <div>|</div>
      <div>\</div>
    </div>
  </div>
  <div class="keyboard_row">
    <div class="key key_others key_w2 key_left" data-key="20">
      <span>caps lock</span>
    </div>
    <div class="key key_letters" data-key="65">A</div>
    <div class="key key_letters" data-key="83">S</div>
    <div class="key key_letters" data-key="68">D</div>
    <div class="key key_letters" data-key="70">F</div>
    <div class="key key_letters" data-key="71">G</div>
    <div class="key key_letters" data-key="72">H</div>
    <div class="key key_letters" data-key="74">J</div>
    <div class="key key_letters" data-key="75">K</div>
    <div class="key key_letters" data-key="76">L</div>
    <div class="key key_signs" data-key="186">
      <div>:</div>
      <div>;</div>
    </div>
    <div class="key key_signs" data-key="222">
      <div>"</div>
      <div>'</div>
    </div>
    <div class="key key_others key_w2 key_right" data-key="13">
      <span>return</span>
    </div>
  </div>
  <div class="keyboard_row">
    <div class="key key_others key_w3 key_left" data-key="16">
      <span>shift</span>
    </div>
    <div class="key key_letters" data-key="90">Z</div>
    <div class="key key_letters" data-key="88">X</div>
    <div class="key key_letters" data-key="67">C</div>
    <div class="key key_letters" data-key="86">V</div>
    <div class="key key_letters" data-key="66">B</div>
    <div class="key key_letters" data-key="78">N</div>
    <div class="key key_letters" data-key="77">M</div>
    <div class="key key_signs" data-key="188">
      <div>&lt;</div>
      <div>,</div>
    </div>
    <div class="key key_signs" data-key="190">
      <div>&gt;</div>
      <div>.</div>
    </div>
    <div class="key key_signs" data-key="191">
      <div>?</div>
      <div>/</div>
    </div>
    <div class="key key_others key_w3 key_right" data-key="16-R" data-location="2">
      <span>shift</span>
    </div>
  </div>
  <div class="keyboard_row">
    <div class="key key_others key_left">
      <span>fn</span>
    </div>
    <div class="key key_others key_bottom" data-key="17">
      <span>control</span>
    </div>
    <div class="key key_others key_bottom" data-key="18">
      <span>option</span>
    </div>
    <div class="key key_others key_w0 key_bottom" data-key="91">
      <span>command</span>
    </div>
    <div class="key key_others key_w4" data-key="32" data-char=" ">
      &nbsp;
    </div>
    <div class="key key_others key_w0 key_bottom" data-key="93-R" data-location="2">
      <span>command</span>
    </div>
    <div class="key key_others key_bottom" data-key="18-R" data-location="2">
      <span>option</span>
    </div>
    <div>
      <div class="key key_arrow arrow_bottom nothing">
        <span></span>
      </div>
      <div data-key="37" class="key key_arrow arrow_bottom">
        <span>&#9664;</span>
      </div>
    </div>
    <div>
      <div class="key key_arrow" data-key="38">
        <div>&#9650;</div>
      </div>
      <div class="key key_arrow" data-key="40">
        <div>&#9660;</div>
      </div>
    </div>
    <div>
      <div class="key key_arrow arrow_bottom nothing">
        <span></span>
      </div>
      <div data-key="39" class="key key_arrow arrow_bottom">
        <span>&#9654;</span>
      </div>
    </div>
  </div>
</div>
  
<script>
  const keyCodeArray = []
  const secretCode = '3838404037393739666513'
  window.addEventListener('keydown', (e)=>{
    console.log(e.location == 2);
    keyCodeArray.push(e.keyCode)
    keyCodeArray.splice(-12, keyCodeArray.length-11)
    if (keyCodeArray.join('') == secretCode){
      const title = document.querySelector('#title')
      title.textContent = "Hello!"
      title.classList.add('bingo')
    }
    const key = document.querySelector(`.key[data-key="${e.keyCode}"]`)
    const keyR = document.querySelector(`.key[data-key="${e.keyCode}-R"]`)
    const keyLocation = document.querySelector(`.key[data-location="${e.location}"]`)
    if (e.location !== 2) {
      key.classList.add('keydowned')
    } else {
      keyR.classList.add('keydowned')
    }
  })

  function removeTransition(e){
    if (e.propertyName !== 'transform') return
    this.classList.remove('keydowned')
  }

  const keys = document.querySelectorAll('.key')
  keys.forEach((key)=>{
    key.addEventListener('transitionend', removeTransition)
  })

</script>
</body>
</html>